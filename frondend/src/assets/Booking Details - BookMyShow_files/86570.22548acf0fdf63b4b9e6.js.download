"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6632,27852,31287,39464,52556,86570,92750],{14807:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n(96540),a=n(27065),i=n(82902),r=n(26318),o=n(6161),c=n(74848);class d extends s.Component{constructor(e){super(e),this.state={name:"",phoneNo:"",qty:1},this.handleName=this.handleName.bind(this),this.handlePhoneNumber=this.handlePhoneNumber.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleName(e){this.setState({name:e.target.value})}handlePhoneNumber(e){this.setState({phoneNo:e.target.value})}handleSubmit(){const{name:e,phoneNo:t,qty:n}=this.state;!e.match(o.NAME_PATTERN)||!t.match(o.MOBILE_NUMBER_PATTERN)||n<1||(this.props.onClick(this.state),this.props.showCounter||this.props.proceedToTransfer())}render(){return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("label",{className:"form-header",children:"ADD CONTACT"}),(0,c.jsx)("form",{className:"struktur add-form-container",children:(0,c.jsxs)("div",{className:"form-wrapper",children:[(0,c.jsx)(a.default,{id:"invite-name",type:"text",pattern:o.NAME_PATTERN,placeholder:"Name",onInputCallBack:this.handleName,errorMessage:"Characters only"}),(0,c.jsx)(a.default,{id:"invite-mobileno",type:"number",pattern:o.MOBILE_NUMBER_PATTERN,onKeyPressCallBack:this.onKeyPressCallBack,placeholder:"Contact Number",onInputCallBack:this.handlePhoneNumber,errorMessage:"Enter a Valid Mobile Number"}),this.props.showCounter?"":(0,c.jsxs)("div",{className:"seat-info",children:[(0,c.jsx)("div",{className:"title",children:"Screen / Seat No."}),(0,c.jsx)("div",{className:"seat",children:this.props.seatInfo})]})]})}),this.props.showCounter?(0,c.jsx)("div",{className:"add-contact-for-button",children:(0,c.jsx)(i.default,{buttonText:"Add Contact",onClick:this.handleSubmit})}):(0,c.jsx)(r.default,{text:"Transfer Ticket",active:"active",submit:this.handleSubmit})]})}}},21785:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var s=n(96540),a=n(84976),i=n(45173),r=n(5600),o=n(62486),c=n(6161),d=n(74848);class l extends s.Component{constructor(){super(),this.skipClick=this.skipClick.bind(this),this.handleBackClick=this.handleBackClick.bind(this)}skipClick(e){const{hardRefresh:t,skipUrl:n,pushDataToAnalyticsForSkip:s}=this.props;e.preventDefault(),s&&s(),this.props.history.replace(n)}handleBackClick(){this.props.history.goBack()}renderBackBtn(){const{back:e,goBack:t,openMenu:n,hardRefresh:s,isHistoryBack:a,backArrowIcon:i,isHamburgerMenu:c,whiteLabelThemeConfig:l={},isWhiteLabel:h=!1}=this.props;return e&&i?s?(0,d.jsx)(r.default,{className:"back",children:(0,d.jsx)("div",{className:"back-chevron",style:h?{backgroundColor:l?.color?.headerBackground}:{},children:(0,d.jsx)("span",{className:"back-icon icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:i})})})}):(0,d.jsx)(r.default,{className:"back",autokey:"confirm-details-back-button",children:(0,d.jsx)("div",{className:"back-chevron",style:h?{backgroundColor:l?.color?.headerBackground}:{},onClick:this.props.history.goBack,children:(0,d.jsx)("span",{className:"back-icon icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:i})})})}):a&&i?(0,d.jsx)(r.default,{className:"back",autokey:"review-order-back-button",children:(0,d.jsx)("div",{onClick:t,children:(0,d.jsx)("div",{className:"back-chevron",style:h?{backgroundColor:l?.color?.headerBackground}:{},children:(0,d.jsx)("span",{className:"back-icon icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:i})})})})}):c?(0,d.jsx)(r.default,{className:"back",children:(0,d.jsx)("div",{onClick:n,children:(0,d.jsx)("div",{className:"back-chevron",style:h?{backgroundColor:l?.color?.headerBackground}:{},children:(0,d.jsx)("span",{className:"hamburger-icon icon",children:(0,d.jsx)(o.default,{fileName:"title-header",svgName:"hamburger"})})})})}):(0,d.jsx)(r.default,{className:"back",autokey:"review-order-back-button",children:(0,d.jsx)("div",{onClick:this.handleBackClick,children:(0,d.jsx)("div",{className:"back-chevron",style:h?{backgroundColor:l?.color?.headerBackground}:{},children:(0,d.jsx)("span",{className:"back-icon icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:"chevron-left-light"})})})})})}renderTitle(){const{subText:e,text:t}=this.props;return t&&e?(0,d.jsx)("div",{className:"main-title",children:(0,d.jsxs)("div",{className:"title-box",children:[t,(0,d.jsx)("div",{className:"sub-title",children:e})]})}):t?(0,d.jsx)("span",{className:"title",children:t}):void 0}renderRightAction(){const{edit:e,info:t,skip:n,save:s,reset:i,region:l,infoSVG:h,openInfo:u,cineView:p,addPerson:m,cinemaSort:f,infoButton:T,refererURL:C,onSaveClick:g,resetFilters:k,orderSummaryTT:E,rightActionText:x,infoSVGCallback:v,walletPreferences:S,addPersonCallback:N,onRightActionClick:y,onClickRightAction:A,orderSummaryTTClick:I,transactionHistoryUrl:_,toggleCinemaSortingMenu:b}=this.props;if(n)return(0,d.jsx)(r.default,{className:"skip-box",children:(0,d.jsx)("a",{onClick:this.skipClick,children:(0,d.jsx)("div",{className:"skip-block",children:(0,d.jsx)("span",{className:"skip",children:"Skip"})})})});if(i)return(0,d.jsx)(r.default,{className:"reset-box",children:(0,d.jsx)("span",{className:"reset",onClick:k,children:"Reset"})});if(f){const e="def"===p?"":(0,d.jsx)("span",{className:"sort-selected"});return(0,d.jsx)(r.default,{className:"content",children:(0,d.jsx)("div",{className:"sub-content",onClick:b,children:(0,d.jsxs)("span",{className:"icon-wrapper icon",children:[(0,d.jsx)(o.default,{fileName:"title-header",svgName:"sort"}),e]})})})}if(s)return(0,d.jsx)(r.default,{className:"skip-box",children:(0,d.jsx)("div",{onClick:g,className:"skip-block",children:(0,d.jsx)("span",{className:"skip",children:"SAVE"})})});if(E)return(0,d.jsx)("div",{className:"ticket-type-wrapper",children:(0,d.jsx)(r.default,{className:"ticket-type-text",onClick:I,children:E})});if(e)return(0,d.jsx)(r.default,{className:"content",children:(0,d.jsx)(a.N_,{to:c.myprofileEditUrl,children:(0,d.jsx)("div",{className:"sub-content",children:(0,d.jsx)("span",{className:"icon-wrapper icon",children:(0,d.jsx)(o.default,{fileName:"title-header",svgName:"edit-light"})})})})});if(l){const e=C||c.BASE_URL;return(0,d.jsx)(a.N_,{to:`${c.regionUrl}?referer=${e}`,children:(0,d.jsx)(r.default,{className:"content",children:(0,d.jsx)("div",{className:"sub-content",children:(0,d.jsx)("span",{className:"icon-wrapper icon",children:(0,d.jsx)(o.default,{fileName:"title-header",svgName:"location"})})})})})}return y?(0,d.jsx)(r.default,{className:"skip-box",children:(0,d.jsx)("div",{onClick:y,className:"skip-block",children:(0,d.jsx)("span",{className:"skip",children:x})})}):S?(0,d.jsx)("div",{className:"options",children:(0,d.jsx)(r.default,{className:"transaction-history",children:(0,d.jsx)(a.N_,{to:_,children:(0,d.jsx)("span",{className:"history-icon icon",children:(0,d.jsx)(o.default,{fileName:"title-header",svgName:"purchase-history"})})})})}):T?(0,d.jsx)(r.default,{className:"info-box",children:(0,d.jsx)("div",{className:"info-icon-wrapper",onClick:u,children:(0,d.jsx)("span",{className:"info-icon icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:"info"})})})}):this.props.delete?(0,d.jsx)(r.default,{className:"skip-box",children:(0,d.jsx)("div",{onClick:this.props.delete,className:"skip-block",children:(0,d.jsx)("span",{className:"skip",children:"DELETE"})})}):m?(0,d.jsx)(r.default,{className:"skip-box",children:(0,d.jsx)("div",{onClick:N,className:"skip-block",children:(0,d.jsx)("span",{className:"skip",children:"ADD"})})}):h?(0,d.jsx)(r.default,{className:"content",children:(0,d.jsx)("div",{className:"sub-content",onClick:v,children:(0,d.jsx)("span",{className:"icon-wrapper icon",children:(0,d.jsx)(o.default,{fileName:"common",svgName:"info"})})})}):t?(0,d.jsx)(r.default,{className:"info",children:(0,d.jsx)("div",{className:"inner-content",onClick:A,children:t})}):null}render(){const e=this.renderBackBtn(),t=this.renderTitle(),n=this.renderRightAction(),{isTvod:s="",isWhiteLabel:a=!1,whiteLabelThemeConfig:i={}}=this.props;return(0,d.jsx)("div",{className:"header",id:"header",children:(0,d.jsxs)("div",{className:"title-wrapper "+(""!==s?"with-tvod":""),style:a?{color:i?.color?.headerText,backgroundColor:i?.color?.headerBackground}:{},children:[e,t,n]})})}}const h=(0,i.withRouter)(l)},46563:(e,t,n)=>{n.r(t),n.d(t,{acceptTicketFailed:()=>R,acceptTicketSuccess:()=>w,addNewContactAction:()=>d,failureResendConfirmation:()=>o,fetchPurchaseHistoryFailure:()=>U,fetchPurchaseHistoryRequest:()=>L,fetchPurchaseHistorySuccess:()=>O,getAcceptTicketDetailsFailed:()=>g,getAcceptTicketDetailsRequest:()=>f,getAcceptTicketDetailsSuccess:()=>C,getCouponPurchaseHistoryFail:()=>B,getCouponPurchaseHistoryRequest:()=>M,getCouponPurchaseHistorySuccess:()=>P,getMemberTransDataFailure:()=>j,getMemberTransDataSuccess:()=>b,getTransferedTicketDetails:()=>u,getTransferedTicketDetailsFailed:()=>m,getTransferedTicketDetailsSuccess:()=>p,initiateAcceptTicket:()=>_,initiateGetMemberTransData:()=>D,initiateRevokeTicket:()=>N,initiateTransferTicket:()=>E,receiveResendConfirmation:()=>r,removeContactAction:()=>x,requestResendConfirmation:()=>i,resetActiveContactsAction:()=>l,resetBarcodeObjectAction:()=>I,resetCouponPurchaseHistory:()=>H,resetFlag:()=>c,revokeTicketFailure:()=>S,revokeTicketOffline:()=>y,revokeTicketSuccess:()=>v,setAcceptData:()=>F,setSelectedBarcodeAction:()=>h,setTransIdInPurchaseHistoryAction:()=>A,transferTicketFailure:()=>k,transferTicketSuccess:()=>T});var s=n(80455),a=n(17979);function i(){return{type:a.REQUEST_RESEND_CONFIRMATION}}function r(e){return{type:a.RECEIVE_RESEND_CONFIRMATION,response:e}}function o(e){return{type:a.FAILURE_RESEND_CONFIRMATION,response:e}}function c(){return{type:a.PURCHASE_HISTORY_RESET_FLAGS}}function d(e){return{type:a.ADD_NEW_CONTACT,data:e}}function l(){return{type:a.RESET_ACTIVE_CONTACTS}}function h(e){return{type:a.SET_SELECTED_BARCODE,barcodeDetails:e}}function u(e){return{type:a.GET_TRANSFERED_TICKET_DETAILS,data:e}}function p(e){return{type:a.GET_TRANSFERED_TICKET_DETAILS_SUCCESS,response:e}}function m(e){return{type:a.GET_TRANSFERED_TICKET_DETAILS_FAILED,response:e}}function f(e){return{type:a.GET_ACCEPT_TICKET_DETAILS,data:e}}function T(e){return{type:a.TRANSFER_TICKET_SUCCESS,data:e}}function C(e){return{type:a.GET_ACCEPT_TICKET_DETAILS_SUCCESS,ticketObject:e}}function g(e){return{type:a.GET_ACCEPT_TICKET_DETAILS_FAILED,message:e}}function k(e){return{type:a.TRANSFER_TICKET_FAILURE,response:e}}function E(){return{type:a.INITIATE_TRANSFER_TICKET}}function x(e){return{type:a.REMOVE_CONTACT,data:e}}function v(e){return{type:a.REVOKE_TICKET_SUCCESS,data:e}}function S(e,t){return{type:a.REVOKE_TICKET_FAILURE,response:e,data:t}}function N(){return{type:a.INITIATE_REVOKE_TICKET}}function y(e){return{type:a.REVOKE_TICKET_OFFLINE,data:e}}function A(e){return{type:a.SET_TRANS_ID_IN_PURCHASE_HISTORY,transId:e}}function I(){return{type:a.RESET_UPDATED_BARCODE_OBJECT}}function _(e){return{type:a.INITIATE_ACCEPT_TICKET,data:e}}function b(e){return{type:a.GET_MEMBER_TRANS_DATA_SUCCESS,data:e}}function w(){return{type:a.ACCEPT_TICKET_SUCCESS}}function R(e){return{type:a.ACCEPT_TICKET_FAILED,message:e}}function j(e){return{type:a.GET_MEMBER_TRANS_DATA_FAILURE,response:e}}function D(){return{type:a.INITIATE_GET_MEMBER_TRANS_DATA}}function F(e){return{type:a.SET_ACCEPT_DATA,data:e}}const M=()=>({type:a.GET_COUPON_PURCHASE_HISTORY_REQUEST,payload:{status:s.PENDING}}),P=e=>({type:a.GET_COUPON_PURCHASE_HISTORY_SUCCESS,payload:{status:s.RESOLVED,data:e}}),B=()=>({type:a.GET_COUPON_PURCHASE_HISTORY_FAIL,payload:{status:s.REJECTED}}),H=()=>({type:a.RESET_COUPON_PURCHASE_HISTORY}),L=()=>({type:a.FETCH_PURCHASE_HISTORY_REQUEST,payload:{status:s.PENDING}}),O=(e,t,n)=>({type:a.FETCH_PURCHASE_HISTORY_SUCCESS,payload:{status:s.RESOLVED,data:e,transHistoryData:t,metadata:n}}),U=e=>({type:a.FETCH_PURCHASE_HISTORY_FAILURE,payload:{status:s.REJECTED,error:e}})},64493:(e,t,n)=>{n.r(t),n.d(t,{acceptTicket:()=>N,addNewContact:()=>C,cancelPurchaseHistoryCall:()=>_,fetchCouponDetailsForPurchaseHistory:()=>y,fetchPurchaseHistoryList:()=>A,fetchPurchaseHistoryListIfNeeded:()=>I,getAcceptTicketDetails:()=>S,getMemberTransData:()=>u,removeContact:()=>x,resendConfirmation:()=>m,resetActiveContacts:()=>g,resetBarcodeObject:()=>E,resetFlags:()=>f,revokeTicketAPI:()=>h,setSelectedBarcode:()=>v,setTransIdInPurchaseHistory:()=>k,transferTickets:()=>T});var s=n(71083),a=n(74353),i=n.n(a),r=n(6161),o=n(80455),c=n(95466),d=n(46563);let l=null;function h(e,t){return(n,a)=>{const i=a(),o={lngTransactionIdentifier:i.myProfile.purchaseHistory.transId,MEMBERID:i.cookies.ud.MEMBERID,LSID:i.cookies.ud.LSID,phoneNo:e.withUser.mobile,seqNo:e.sequence};return n((0,d.initiateRevokeTicket)()),s.A.post(r.REVOKE_TICKET_API,o).then((s=>{if(s){const{data:e}=s;return"true"===e.blnSuccess?n((0,d.revokeTicketSuccess)(e.strData)):n((0,d.revokeTicketFailure)(e.strException,e.strData))}return n((0,d.revokeTicketOffline)(e,t))})).catch((e=>n((0,d.revokeTicketFailure)(e.response.data.message))))}}function u(e){return(t,n)=>{const a=n(),{MEMBERID:i="",LSID:o=""}=a.cookies.ud,c={encryptedTransId:e},l={method:"POST",url:`${r.MEMBERS_API_ENDPOINT}/${i}/get-ph-transactions-by-id`,data:c,headers:{"x-app-code":r.APP_CODE,...o&&{"x-access-token":o}},timeout:2e3};return t((0,d.initiateGetMemberTransData)()),(0,s.A)(l).then((e=>{const{data:n}=e;return t(n?(0,d.getMemberTransDataSuccess)(n):(0,d.getMemberTransDataFailure)("Something went wrong"))})).catch((e=>t((0,d.getMemberTransDataFailure)(e.response.data.message))))}}function p(e,t){if(t&&t.data){const{data:n}=t;"true"===n.blnSuccess?e((0,d.receiveResendConfirmation)(n)):e((0,d.failureResendConfirmation)(n))}}function m(e){return t=>{const n={lngTransactionIdentifier:e.TransId,bookingId:e.BookingId};return t((0,d.requestResendConfirmation)()),s.A.post(r.RESEND_CONFIRMATION_MAIL_API,n).then(p.bind(this,t))}}function f(){return e=>{e((0,d.resetFlag)())}}function T(e){let{transId:t=""}=e;return(e,n)=>{const a=n(),i=a.myProfile.purchaseHistory?.transferredTickets?.activeTransfers,o={transfer:i},c={lngTransactionIdentifier:t,MEMBERID:a.cookies.ud.MEMBERID,LSID:a.cookies.ud.LSID,transferUserDetails:JSON.stringify(o)};return e((0,d.initiateTransferTicket)()),s.A.post(r.TRANSFER_TICKET_API,c).then((e=>{const{data:t}=e;return t})).catch((e=>e.response))}}function C(e){return t=>{t((0,d.addNewContactAction)(e))}}const g=()=>e=>{e((0,d.resetActiveContactsAction)())};function k(e){return t=>{t((0,d.setTransIdInPurchaseHistoryAction)(e))}}function E(){return e=>{e((0,d.resetBarcodeObjectAction)())}}function x(e){return t=>{t((0,d.removeContactAction)(e))}}function v(e){return t=>{t((0,d.setSelectedBarcodeAction)(e))}}function S(e){return(t,n)=>{t((0,d.getAcceptTicketDetailsRequest)());const a=n(),o={MEMBERID:a.cookies.ud.MEMBERID,LSID:a.cookies.ud.LSID,data:e};return s.A.post(r.GET_ACCEPT_TICKET_DETAILS,o).then((e=>{const{data:n}=e;if("true"===n.blnSuccess){const e=n.strData;e.Trans_ShowDateTime=i()(e.ShowDateTime,"YYYYMMDDHHmm"),e.Event_strCode=e.EventImageCode,e.Event_strEventDimension="",e.TType_strDescription="",e.Trans_strSeatInfo=e.seatInfo,t((0,d.getAcceptTicketDetailsSuccess)(e))}else t((0,d.getAcceptTicketDetailsFailed)(n.strException))}),(e=>{t((0,d.getAcceptTicketDetailsFailed)(e.response.data.message))}))}}function N(e){return(t,n)=>{t((0,d.initiateAcceptTicket)(e));const a=n(),i={MEMBERID:a.cookies.ud.MEMBERID,LSID:a.cookies.ud.LSID,...e};return s.A.post(r.ACCEPT_TICKET,i).then((e=>{const{data:n}=e;"true"===n.blnSuccess?t((0,d.acceptTicketSuccess)()):t((0,d.acceptTicketFailed)(n.strException))}),(e=>{t((0,d.acceptTicketFailed)(e.response.data.message))}))}}const y=e=>async t=>{try{t((0,d.getCouponPurchaseHistoryRequest)()),l=new AbortController;const n={method:"POST",url:`${r.COUPON_BASE_URL_CLIENT}/fetchPurchaseHistoryInfo`,data:{transactionsArray:[e],isDesktop:!1},timeout:5e3,signal:l.signal},a=await(0,s.A)(n);t(200===a?.status?(0,d.getCouponPurchaseHistorySuccess)(a.data):(0,d.getCouponPurchaseHistoryFail)())}catch(e){s.A.isCancel(e)||((0,c.logError)(e),t((0,d.getCouponPurchaseHistoryFail)()))}},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(t,n)=>{try{t((0,d.fetchPurchaseHistoryRequest)());const{cookies:a={},myProfile:i={}}=n()||{},{purchaseHistory:o={}}=i,{purchaseHistoryData:c={}}=o,{transHistoryData:h=[]}=c,u=[...h],{ud:{MEMBERID:p,LSID:m}={},rgn:f={}}=a,{regionCode:T="",subCode:C=""}=f;l=new AbortController;const g={method:"POST",url:`${r.MEMBERS_API_ENDPOINT}/v1/purchase-history`,data:e,headers:{...p&&{"x-member-id":p},...m&&{"x-access-token":m},"x-app-code":r.APP_CODE,...T&&{"x-region-code":T},...C&&{"x-subregion-code":C}},timeout:1e4,signal:l.signal},k=await(0,s.A)(g),{status:E,data:x={}}=k||{};if(200===E&&x?.data){const{data:e={},metadata:n={}}=x,{transHistory:s=[]}=e;return u.push(...s),t((0,d.fetchPurchaseHistorySuccess)(e,u,n))}return t((0,d.fetchPurchaseHistoryFailure)(x))}catch(e){if(!s.A.isCancel(e))return(0,c.logError)(e),t((0,d.fetchPurchaseHistoryFailure)(e?.response?.data))}}},I=()=>(e,t)=>{const{myProfile:n={}}=t()||{},{purchaseHistory:{purchaseHistoryData:s={}}={}}=n,{status:a,transHistoryData:i=[],data:{loadMoreData:r={}}={}}=s||{},{autoFetch:c=!1}=r||{};return a===o.IDLE||!c&&0===i?.length?e(A()):null},_=()=>{l&&l?.abort()}},77404:(e,t,n)=>{n.r(t),n.d(t,{transferStaticCss:()=>a,transferStaticHTML:()=>s});const s=`\n<div class='image-wrapper'>\n    <img src=${n(6161).BMSCDN_ASSETS_URL}/m6/images/my-profile/transfer-ticket.png />\n</div>\n<div class='transfer-tickets-body'>\n    <div class='transfer-ticket-heading'>\n        What is Transfer Tickets?\n\t</div>\n    <div class='transfer-ticket-description'>\n\tYou can now securely transfer tickets from your account to your friends and family. Members of your group not arriving at the same time ? Want to gift a ticket to your loved ones?  We've got you covered in a few simple steps!\n\t</div>\n    <dl class='transfer-ticket-list'>\n    <div class='ticket-list'>\n        <span class='svg-icon'>\n            <svg width="35" height="26" xmlns="http://www.w3.org/2000/svg">\n                <g transform="translate(1 1)" fill="#FFF" stroke="#64696F" fill-rule="evenodd">\n                    <g stroke-width="1.128">\n                        <path d="M7 10h4a7 7 0 0 1 7 7v7H0v-7a7 7 0 0 1 7-7z"/><circle cx="9" cy="5" r="5"/>\n                    </g>\n                    <path d="M14 24v-5.5M4 24v-5.5" stroke-width="1.2"/><ellipse stroke-width="1.2" cx="26.891" cy="11.912" rx="5.891" ry="5.912"/>\n                    <path d="M26.89 9v6M29.89 12h-6" stroke-width="1.2"/>\n                </g>\n            </svg>\n        </span>\n        <div class='content-wrapper'>\n            <dt>Step 1</dt>\n            <dd>Click on 'Transfer Tickets' in your orders.</dd>\n        </div>\n    </div>\n    <div class='ticket-list'>\n        <span class='svg-icon'>\n            <svg width="36" height="36" xmlns="http://www.w3.org/2000/svg">\n                <g stroke="#64696F" stroke-width="1.2" fill="none" fill-rule="evenodd">\n                    <path d="M4.273 1h11.454c0 1.788 1.466 3.238 3.273 3.238v27.524c-1.807 0-3.273 1.45-3.273 3.238H4.273c0-1.788-1.466-3.238-3.273-3.238V4.238c1.807 0 3.273-1.45 3.273-3.238z" fill="#FFF"/>\n                    <path d="M19 24.5H1" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="0,2"/>\n                    <path d="M10 15.178l-2.56 1.346.489-2.851-2.072-2.019 2.863-.416L10 8.644l1.28 2.594 2.863.416-2.072 2.019.49 2.85L10 15.179z" fill="#FFF"/>\n                    <g transform="translate(23 12)">\n                        <circle fill="#FFF" cx="6" cy="6" r="6"/>\n                        <path d="M6.5 3.5l2.272 2.55L6.5 8.482"/><path d="M8.5 5.996l-5 .008" stroke-linecap="square"/>\n                    </g>\n                </g>\n            </svg>\n        </span>\n        <div class='content-wrapper'>\n            <dt>Step 2</dt>\n            <dd>Enter the name and mobile number of the person to whom you want to transfer the ticket(s) and click on 'Done'.</dd>\n        </div>\n    </div>\n    <div class='ticket-list'>\n        <span class='svg-icon'>\n            <svg width="36" height="36" xmlns="http://www.w3.org/2000/svg">\n                <g stroke="#64696F" stroke-width="1.2" fill="none" fill-rule="evenodd">\n                    <g transform="translate(23 12)">\n                        <ellipse fill="#FFF" cx="6.095" cy="5.658" rx="5.633" ry="5.625"/>\n                        <path d="M2.94 5.735l2.307 1.986 3.525-4.558"/>\n                    </g>\n                    <path d="M4.273 1h11.454c0 1.788 1.466 3.238 3.273 3.238v27.524c-1.807 0-3.273 1.45-3.273 3.238H4.273c0-1.788-1.466-3.238-3.273-3.238V4.238c1.807 0 3.273-1.45 3.273-3.238z" fill="#FFF"/>\n                    <path d="M19 24.5H1" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="0,2"/>\n                    <path d="M10 15.178l-2.56 1.346.489-2.851-2.072-2.019 2.863-.416L10 8.644l1.28 2.594 2.863.416-2.072 2.019.49 2.85L10 15.179z" fill="#FFF"/>\n                </g>\n            </svg>\n        </span>\n        <div class='content-wrapper'>\n            <dt>Step 3</dt>\n            <dd>Recipient user will receive a notification and a link to accept the transferred tickets via sms/whatsapp.</dd>\n        </div>\n    </div>\n    <div class='ticket-list'>\n        <span class='svg-icon'>\n            <svg width="36" height="36" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <g transform="translate(1 1)">\n                        <rect stroke="#64696F" stroke-width="1.2" fill="#FFF" width="18" height="34" rx="4"/>\n                        <circle fill="#64696F" cx="9" cy="30" r="1"/>\n                        <g fill="#FFF" stroke="#64696F" stroke-width="1.2">\n                            <path d="M3 5h3v3H3zM3 14h3v3H3zM12 5h3v3h-3zM12 14h3v3h-3zM7 9h4v4H7z"/>\n                        </g>\n                    </g>\n                    <g transform="rotate(-90 23.5 .5)" stroke="#64696F" stroke-width="1.2">\n                        <circle fill="#FFF" cx="6" cy="6" r="6"/><path d="M6.5 3.5l2.272 2.55L6.5 8.482"/>\n                        <path d="M8.5 5.996l-5 .008" stroke-linecap="square"/>\n                    </g>\n                </g>\n            </svg>\n        </span>\n        <div class='content-wrapper'>\n            <dt>Step 4</dt>\n            <dd>Once the recipient accepts the ticket, they'll receive a new QR code in his/her Bookmyshow account and the same will be removed from your orders.</dd>\n        </div>\n    </div>\n    </dl>\n</div>\n`,a="\n\n.transfer-tickets-body {\n    padding: 17px 17px 0px;\n\tbackground: #FFFFFF;\n}\n.transfer-ticket-heading {\n\tfont-size: 22px;\n\tfont-weight: 500;\n\tcolor: #000000;\n\tmargin-bottom: 10px;\n}\n.transfer-ticket-description {\n\tfont-size: 14px;\n\tline-height: 1.43;\n\tcolor: #555555;\n\tmargin-bottom: 21px;\n}\n.transfer-ticket-list {\n\tfont-size: 14px;\n\tpadding-bottom: 56px;\n}\n.ticket-list {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\t.svg-icon {\n\t\t\tmargin-right: 12px;\n\n\t\t\tsvg {\n\t\t\t\twidth: 36px;\n\t\t\t\theight: 36px;\n\t\t\t}\n\t\t}\n\t}\ndt {\n\tfont-weight: 500;\n\tcolor: #333333;\n}\ndd {\n\tline-height: 1.43;\n\tcolor: #999999;\n\tmargin-bottom: 11px;\n}"},80587:(e,t,n)=>{n.r(t),n.d(t,{AcknowledgementContainer:()=>a,AddContactForm:()=>T,AddContactFormContainer:()=>C,AddContactFormWrapper:()=>m,AddNewContact:()=>x,AddNewText:()=>S,BookingStatus:()=>F,ContactWrapper:()=>D,FormLabel:()=>f,GoBack:()=>h,HeaderLabel:()=>j,ImageWrapper:()=>o,InfoSeat:()=>E,InfoTitle:()=>k,Name:()=>b,NewContactIcon:()=>v,ReviewContainer:()=>i,SeatInfoContainer:()=>g,SmallRegularGreyText:()=>w,StaticContentContainer:()=>N,Status:()=>R,SuccessContent:()=>d,SuccessTitle:()=>c,TextWrapper:()=>_,TransferStaticContainer:()=>r,TransferStaticHTML:()=>y,TransferSteps:()=>p,TransferTicketsContainer:()=>u,TransferedCard:()=>I,TransferedCardList:()=>A,TransferedContactContainer:()=>l});var s=n(6199);const a=s.default.div.withConfig({componentId:"sc-1o533me-0"})([""]),i=s.default.div.withConfig({componentId:"sc-1o533me-1"})(["padding-top:70px;background-color:",";height:calc(100vh - 60px);"],(e=>e.theme.WHITE)),r=s.default.div.withConfig({componentId:"sc-1o533me-2"})(["margin:60px 16px 0;background:",";display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px;text-align:center;"],(e=>e.theme.WHITE)),o=s.default.div.withConfig({componentId:"sc-1o533me-3"})([""]),c=s.default.div.withConfig({componentId:"sc-1o533me-4"})(["font-size:16px;font-weight:500;text-align:center;color:",";;"],(e=>e.theme.BLACK)),d=s.default.div.withConfig({componentId:"sc-1o533me-5"})(["font-size:14px;text-align:center;color:#555555;padding:15px;"]),l=s.default.div.withConfig({componentId:"sc-1o533me-6"})(["width:100%;"]),h=s.default.div.withConfig({componentId:"sc-1o533me-7"})(["text-align:center;padding:15px 0;color:",";font-size:14px;font-weight:500;"],(e=>e.theme.BMS_PINK_1)),u=s.default.div.withConfig({componentId:"sc-1o533me-8"})(["background-color:white;height:100%;height:",";"],(e=>e.isModal?"100%":"100vh")),p=s.default.div.withConfig({componentId:"sc-1o533me-9"})([""]),m=s.default.div.withConfig({componentId:"sc-1o533me-10"})(["height:",";padding-top:70px;padding:",";background-color:",";"],(e=>e.isModal?"":"calc(100vh - 56px)"),(e=>e.isModal&&"20px 0px 56px"),(e=>e.theme.WHITE)),f=s.default.label.withConfig({componentId:"sc-1o533me-11"})(["color:",";",";padding-left:16px;bottom:4px;position:relative;"],(e=>e.theme.GREY_4),(e=>e.theme["small-regular"])),T=s.default.form.withConfig({componentId:"sc-1o533me-12"})(["background-color:",";;"],(e=>e.theme.WHITE)),C=s.default.div.withConfig({componentId:"sc-1o533me-13"})(["padding:8px 16px 0;"]),g=s.default.div.withConfig({componentId:"sc-1o533me-14"})(["padding:4px;"]),k=s.default.div.withConfig({componentId:"sc-1o533me-15"})(["font-size:11px;margin-bottom:8px;color:#a9a9a9;"]),E=s.default.div.withConfig({componentId:"sc-1o533me-16"})(["font-size:14px;color:",";;"],(e=>e.theme.BMS_GREY_1)),x=s.default.div.withConfig({componentId:"sc-1o533me-17"})(["display:flex;align-items:center;padding-left:14px;padding-top:10px;"]),v=s.default.div.withConfig({componentId:"sc-1o533me-18"})(["width:26px;height:26px;"]),S=s.default.div.withConfig({componentId:"sc-1o533me-19"})(["padding-left:9px;color:",";;"],(e=>e.theme.BMS_BLUE_5)),N=s.default.div.withConfig({componentId:"sc-1o533me-20"})([""]),y=s.default.div.withConfig({componentId:"sc-1o533me-21"})(["padding-top:",";background:",";height:100%;.image-wrapper{display:flex;justify-content:center;padding-top:14px;}.ticket-list{display:flex;flex-direction:row;.svg-icon{margin-right:12px;svg{width:36px;height:36px;}}}"],(e=>e.isModal?"unset":"56px"),(e=>e.theme.WHITE)),A=s.default.div.withConfig({componentId:"sc-1o533me-22"})(["position:relative;width:100%;background:white;border-top:1px solid #d1d1d1;&:last-child{border-bottom:1px solid #d1d1d1;}"]),I=s.default.div.withConfig({componentId:"sc-1o533me-23"})(["display:flex;justify-content:space-between;position:relative;width:100%;"]),_=s.default.div.withConfig({componentId:"sc-1o533me-24"})(["position:relative;padding:12px 16px;display:flex;flex-direction:column;"]),b=s.default.div.withConfig({componentId:"sc-1o533me-25"})(["text-align:left;",";"],(e=>e.theme["body-medium"])),w=s.default.div.withConfig({componentId:"sc-1o533me-26"})(["color:",";",";"],(e=>e.theme.GREY_4),(e=>e.theme["small-regular"])),R=s.default.div.withConfig({componentId:"sc-1o533me-27"})(["align-self:center;padding-right:10px;color:",";font-size:14px;"],(e=>e.theme.GREY_4)),j=s.default.label.withConfig({componentId:"sc-1o533me-28"})(["color:",";font-size:14px;padding-left:15px;position:relative;"],(e=>e.theme.GREY_4)),D=s.default.div.withConfig({componentId:"sc-1o533me-29"})(["background:white;margin:0 16px;"]),F=s.default.div.withConfig({componentId:"sc-1o533me-30"})(["color:",";"],(e=>"Accepted"===e.bookingStatus?e.theme.SUCCESS_GREEN_8:e.theme.GREY_6))},86570:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var s=n(96540),a=n(71468),i=n(45173),r=n(21785),o=n(56314),c=n(26318),d=n(78548),l=n(6161),h=n(64493),u=n(3881),p=n(14807),m=n(90132),f=n(93038),T=n(91165),C=n(74848);class g extends s.Component{constructor(e){super(e),this.modes={ADD_CONTACT:"display add contact form",REVIEW_TRANSFER:"review contact list before transfer",STATIC:"show transfer ticket static info",TRANSFER_SUCCESS:"acknowledgement of successful transfer"};const t=(0,o.getIn)(this.props,["barcodeDetails","shared"])||[];this.state={mode:t.length>0?this.modes.ADD_CONTACT:this.modes.STATIC},this.renderAddContactForm=this.renderAddContactForm.bind(this),this.handleNewContact=this.handleNewContact.bind(this),this.switchToAddContact=this.switchToAddContact.bind(this),this.initiateTransfer=this.initiateTransfer.bind(this),this.removeContact=this.removeContact.bind(this),this.handleGoBackToPTM=this.handleGoBackToPTM.bind(this),this.resetModalBasedRouterState=this.resetModalBasedRouterState.bind(this)}componentDidMount(){this.resetModalBasedRouterState()}handleNewContact(e){const{transferType:t,selectedBarcodeDetails:n,dispatch:s}=this.props,a={...e,sequenceId:n.sequence||n.sequenceNo||0};s((0,h.addNewContact)(a)),"perTicket"!==t&&this.setState({mode:"review"})}handleGoBackToPTM(){const{redirectFrom:e,history:t,dispatch:n}=this.props;n((0,h.resetActiveContacts)()),e?t.replace(e,{state:{hardRefresh:!0}}):t.goBack()}resetModalBasedRouterState(){const{history:e,location:t}=this.props,{state:n}=t;n?.modalType&&e.goBack()}initiateTransfer(){const{selectedBarcodeDetails:e,errorMsg:t,dispatch:n,history:s,location:a}=this.props;n((0,h.transferTickets)({transId:e?.transactionId})).then((e=>{if("true"===e?.blnSuccess)this.switchToTransferSuccess();else{const{search:n="",pathname:i=""}=a,r=i+n;s.push(r,{state:{modalType:u.SHOW_TICKET_TRANSFER_MODAL,errorMessage:"Transfer Ticket Unsuccessful",errorDescription:t||e?.strException,ctaLabel:"Retry"}})}}))}removeContact(e){const{activeTransfers:t,dispatch:n}=this.props,s=t,{id:a}=e.currentTarget,i=s.filter((e=>e.phoneNo!==a));n((0,h.removeContact)(i))}switchToAddContact(){this.setState({mode:this.modes.ADD_CONTACT})}switchToTransferSuccess(){this.setState({mode:this.modes.TRANSFER_SUCCESS})}renderAddContactForm(){const{transferType:e,selectedBarcodeDetails:t}=this.props,{mode:n}=this.state,s="perTicket"!==e;if(n===this.modes.ADD_CONTACT)return(0,C.jsx)(p.default,{showCounter:s,onClick:this.handleNewContact,seatInfo:t?.seatInfo||"",proceedToTransfer:this.initiateTransfer})}renderTransferSuccessState(){const{updatedBarcodeObject:e,transferType:t}=this.props,{mode:n}=this.state;let s=[];if(e&&(s=e.shared.map((e=>({name:e.withUser.name,phoneNo:e.withUser.mobile,qty:e.qty,sharedStatus:e.sharedStatus})))),n===this.modes.TRANSFER_SUCCESS)return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"transfer-static-container",children:[(0,C.jsx)("div",{className:"image-wrapper",children:(0,C.jsx)("img",{alt:"transfer-ticket",src:`${l.BMSCDN_ASSETS_URL}/m6/images/my-profile/transfer-ticket.png`})}),(0,C.jsx)("div",{className:"success-title",children:"M-Tickets generated successfully"}),(0,C.jsx)("div",{className:"success-content",children:"We have send a notification with an invite to the following contacts."})]}),(0,C.jsx)("div",{children:(0,C.jsx)(m.default,{showCounter:"perTicket"!==t,data:s,transfered:!0})}),(0,C.jsx)("div",{className:"go-back",onClick:this.handleGoBackToPTM,children:"Go back To Your Orders"})]})}renderReviewTransferState(e){const{transferType:t}=this.props,{mode:n}=this.state;if("review"===n)return(0,C.jsxs)("div",{children:[(0,C.jsx)(m.default,{removeContact:this.removeContact,showCounter:"perTicket"!==t,data:e}),!e?.length&&(0,C.jsx)(f.NewContact,{onClick:this.switchToAddContact}),(0,C.jsx)(c.default,{text:"Transfer Tickets",active:"active",submit:this.initiateTransfer})]})}render(){const e=this.renderAddContactForm(),{whiteLabel:t={},isWhiteLabel:n=!1,activeTransfers:s,location:a}=this.props,{state:i={}}=a||{},{modalType:o="",errorMessage:c="",errorDescription:l="",ctaLabel:h=""}=i||{},p=o===u.SHOW_TICKET_TRANSFER_MODAL,{mode:m}=this.state,{icons:{backArrowIcon:f=""}={}}=t;return(0,C.jsxs)("div",{children:[(0,C.jsx)(r.default,{isHistoryBack:"true",goBack:this.handleGoBackToPTM,whiteLabelThemeConfig:t,isWhiteLabel:n,backArrowIcon:m!==this.modes.TRANSFER_SUCCESS?f||"chevron-left-dark":"",text:"Transfer Tickets"}),m===this.modes.STATIC?(0,C.jsx)(T.default,{submit:this.switchToAddContact,goBack:this.handleGoBackToPTM}):"",(0,C.jsxs)("div",{className:"transfer-state",children:[e,this.renderReviewTransferState(s),this.renderTransferSuccessState()]}),p&&(0,C.jsx)(d.default,{title:c,message:l,singleAction:!0,dismissOnPrimary:!0,primaryActionLabel:h})]})}}const k=(0,i.withRouter)((0,a.Ng)((function(e,t){const n=(0,o.getAppConfigurationObject)(e),{whiteLabel:s={},isWhiteLabel:a=!1}=n,i=t?.location?.state?.additionalData?t.location?.state?.additionalData:e.myProfile.purchaseHistory.selectedBarcode;return{userDetail:e.cookies.ud,resendEmail:e.myProfile.purchaseHistory.resendEmail,success:e.myProfile.purchaseHistory.isSuccess,activeTransfers:e.myProfile.purchaseHistory?.transferredTickets?.activeTransfers,selectedBarcodeDetails:i,updatedBarcodeObject:e.myProfile.purchaseHistory.updatedBarcodeObject||"",errorMsg:e.myProfile.purchaseHistory.errorMsg,whiteLabel:s,isWhiteLabel:a,redirectFrom:t?.location?.state?.redirectFrom||""}}))(g))},90132:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(96540),a=n(33275),i=n(80587),r=n(74848);const o=e=>{let{data:t=[],transfered:n=!1,removeContact:o=()=>{},showCounter:c=!1}=e;const[d,l]=(0,s.useState)([]),h=e=>{const t="A"===e?"Accepted":"Pending";return(0,r.jsxs)("div",{children:[(0,r.jsx)(i.BookingStatus,{bookingStatus:t,children:t}),(0,r.jsx)(i.BookingStatus,{bookingStatus:t,children:"Accepted"===t?props.bookingId:""})]})},u=(e,t)=>{l((n=>[...n,{phoneNumber:t,qty:e}]))},p=e=>{let{qty:t,phoneNo:n}=e;return c?(0,r.jsx)(a.default,{lockCounter:!0,hide:!1,max:10,min:1,count:t,activeCount:t,hideCounter:!1,onIncrement:e=>u(e,n),onDecrement:e=>u(e,n)}):"1 TICKET"};return(0,r.jsxs)(i.ContactWrapper,{children:[(()=>{let e="";return t.length>1?e=`TRANSFERRED TICKETS (${t.length} CONTACTS)`:1===t.length&&(e="TRANSFERRED TICKET (1 CONTACT)"),(0,r.jsx)(i.HeaderLabel,{children:e})})(),t.length>0?t.map(((e,t)=>(0,r.jsx)(i.TransferedCardList,{children:(0,r.jsxs)(i.TransferedCard,{children:[(0,r.jsxs)(i.TextWrapper,{children:[(0,r.jsx)(i.Name,{children:e.name}),(0,r.jsx)(i.SmallRegularGreyText,{children:e.phoneNo}),n?(0,r.jsx)(i.SmallRegularGreyText,{children:e.qty>1?`${e.qty} Tickets`:"1 Ticket"}):(0,r.jsx)(i.SmallRegularGreyText,{onClick:o,id:e.phoneNo,children:"Remove"})]}),(0,r.jsx)(i.Status,{children:n?h(e.sharedStatus):p(e)})]})},`${e.name}-${e.phoneNo}-${t}`))):null]})}},91165:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var s=n(21785),a=n(26318),i=n(77404),r=n(74848);const o=e=>(0,r.jsxs)("div",{className:"transfer-ticket-static",children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:i.transferStaticCss}}),(0,r.jsx)(s.default,{isHistoryBack:"true",goBack:e.goBack,backArrowIcon:"chevron-left-dark",text:"Transfer Tickets"}),(0,r.jsx)("div",{className:"transfer-static-container",dangerouslySetInnerHTML:{__html:i.transferStaticHTML}}),(0,r.jsx)(a.default,{active:"active",text:"PROCEED",submit:e.submit})]})},93038:(e,t,n)=>{n.r(t),n.d(t,{NewContact:()=>i});var s=n(62486),a=n(74848);const i=e=>(0,a.jsxs)("div",{onClick:e.onClick,className:"container",children:[(0,a.jsx)("div",{className:"addIcon icon",children:(0,a.jsx)(s.default,{fileName:"my-profile",svgName:"plus"})}),(0,a.jsx)("div",{className:"text",children:"Add a new contact"})]})}}]);